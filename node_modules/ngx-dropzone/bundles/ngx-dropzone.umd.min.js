!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/platform-browser"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-dropzone",["exports","@angular/core","@angular/platform-browser","@angular/common"],t):t(e["ngx-dropzone"]={},e.ng.core,e.ng.platformBrowser,e.ng.common)}(this,function(e,o,r,t){"use strict";var n=function(){function e(){}return e.decorators=[{type:o.Directive,args:[{selector:"ngx-dropzone-label"}]}],e}(),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function a(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(o,r){var i,a,s,e,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:t(0),"throw":t(1),"return":t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function n(e){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(s=2&e[0]?a["return"]:e[0]?a["throw"]||((s=a["return"])&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,a=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){l.label=e[1];break}if(6===e[0]&&l.label<s[1]){l.label=s[1],s=e;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(e);break}s[2]&&l.ops.pop(),l.trys.pop();continue}e=r.call(o,l)}catch(t){e=[6,t],a=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([t,e])}}}function l(e){return null!=e&&""+e!="false"}var p={BACKSPACE:8,DELETE:46};p[p.BACKSPACE]="BACKSPACE",p[p.DELETE]="DELETE";var c=function(){function e(e){this.sanitizer=e,this._removable=!1,this.removed=new o.EventEmitter,this.tabIndex=0}return Object.defineProperty(e.prototype,"removable",{get:function(){return this._removable},set:function(e){this._removable=l(e)},enumerable:!0,configurable:!0}),e.prototype.keyEvent=function(e){switch(e.keyCode){case p.BACKSPACE:case p.DELETE:this.remove()}},Object.defineProperty(e.prototype,"hostStyle",{get:function(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")},enumerable:!0,configurable:!0}),e.prototype._remove=function(e){e.stopPropagation(),this.remove()},e.prototype.remove=function(){this._removable&&this.removed.next(this.file)},e.prototype.readFile=function(){return function e(t,a,s,l){return new(s||(s=Promise))(function(e,n){function o(e){try{i(l.next(e))}catch(t){n(t)}}function r(e){try{i(l["throw"](e))}catch(t){n(t)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(o,r)}i((l=l.apply(t,a||[])).next())})}(this,void 0,void 0,function(){var o=this;return s(this,function(e){return[2,new Promise(function(t,n){var e=new FileReader;if(e.onload=function(e){t(e.target.result)},e.onerror=function(e){console.error("FileReader failed on file "+o.file.name+"."),n(e)},!o.file)return n("No file to read. Please provide a file using the [file] Input property.");e.readAsDataURL(o.file)})]})})},e.decorators=[{type:o.Component,args:[{selector:"ngx-dropzone-preview",template:'\n\t\t<ng-content select="ngx-dropzone-label"></ng-content>\n\t\t<ngx-dropzone-remove-badge *ngIf="removable" (click)="_remove($event)">\n\t\t</ngx-dropzone-remove-badge>\n\t',styles:[":host(){background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}:host():focus,:host():hover{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}:host():focus ngx-dropzone-remove-badge,:host():hover ngx-dropzone-remove-badge{opacity:1}:host() ngx-dropzone-remove-badge{opacity:0}:host() ::ng-deep ngx-dropzone-label{overflow-wrap:break-word}"]}]}],e.ctorParameters=function(){return[{type:r.DomSanitizer}]},e.propDecorators={file:[{type:o.Input}],removable:[{type:o.Input}],removed:[{type:o.Output}],keyEvent:[{type:o.HostListener,args:["keyup",["$event"]]}],hostStyle:[{type:o.HostBinding,args:["style"]}],tabIndex:[{type:o.HostBinding,args:["tabindex"]}]},e}(),d=function(){function e(){}return e.prototype.parseFileList=function(e,t,n,o){for(var r=[],i=[],a=0;a<e.length;a++){var s=e.item(a);this.isAccepted(s,t)?n&&s.size>n?this.rejectFile(i,s,"size"):!o&&1<=r.length?this.rejectFile(i,s,"no_multiple"):r.push(s):this.rejectFile(i,s,"type")}return{addedFiles:r,rejectedFiles:i}},e.prototype.isAccepted=function(e,t){if("*"===t)return!0;var n=t.split(",").map(function(e){return e.toLowerCase().trim()}),o=e.type.toLowerCase(),r=e.name.toLowerCase();return!!n.find(function(e){return e.endsWith("/*")?o.split("/")[0]===e.split("/")[0]:e.startsWith(".")?r.endsWith(e):e==o})},e.prototype.rejectFile=function(e,t,n){var o=t;o.reason=n,e.push(o)},e.decorators=[{type:o.Injectable}],e}(),u=function(){function e(e){this.service=e,this.change=new o.EventEmitter,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=undefined,this._expandable=!1,this._disableClick=!1,this._isHovered=!1}return Object.defineProperty(e.prototype,"_hasPreviews",{get:function(){return!!this._previewChildren.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=l(e),this._isHovered&&(this._isHovered=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multiple},set:function(e){this._multiple=l(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxFileSize",{get:function(){return this._maxFileSize},set:function(e){this._maxFileSize=function t(e){return isNaN(parseFloat(e))||isNaN(Number(e))?null:Number(e)}(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expandable",{get:function(){return this._expandable},set:function(e){this._expandable=l(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disableClick",{get:function(){return this._disableClick},set:function(e){this._disableClick=l(e)},enumerable:!0,configurable:!0}),e.prototype._onClick=function(){this.disableClick||this.showFileSelector()},e.prototype._onDragOver=function(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)},e.prototype._onDragLeave=function(){this._isHovered=!1},e.prototype._onDrop=function(e){this.disabled||(this.preventDefault(e),this._isHovered=!1,this.handleFileDrop(e.dataTransfer.files))},e.prototype.showFileSelector=function(){this.disabled||this._fileInput.nativeElement.click()},e.prototype._onFilesSelected=function(e){var t=e.target.files;this.handleFileDrop(t),this._fileInput.nativeElement.value="",this.preventDefault(e)},e.prototype.handleFileDrop=function(e){var t=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:t.addedFiles,rejectedFiles:t.rejectedFiles,source:this})},e.prototype.preventDefault=function(e){e.preventDefault(),e.stopPropagation()},e.decorators=[{type:o.Component,args:[{selector:"ngx-dropzone, [ngx-dropzone]",template:'<input #fileInput type="file" [id]="id" [multiple]="multiple" [accept]="accept" [disabled]="disabled"\n  (change)="_onFilesSelected($event)" [attr.aria-label]="ariaLabel" [attr.aria-labelledby]="ariaLabelledby"\n  [attr.aria-describedby]="ariaDescribedBy">\n<ng-content select="ngx-dropzone-label" *ngIf="!_hasPreviews"></ng-content>\n<ng-content select="ngx-dropzone-preview"></ng-content>\n<ng-content></ng-content>\n',styles:[":host(){display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}:host().ngx-dz-hovered{border-style:solid}:host().ngx-dz-disabled{opacity:.5;cursor:no-drop;pointer-events:none}:host().expandable{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}:host().unclickable{cursor:default}:host() ::ng-deep ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}:host() input{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}:host() input:focus+::ng-deep ngx-dropzone-label{outline:#000 dotted 1px;outline:-webkit-focus-ring-color auto 5px}"],providers:[d]}]}],e.ctorParameters=function(){return[{type:d,decorators:[{type:o.Self}]}]},e.propDecorators={_previewChildren:[{type:o.ContentChildren,args:[c,{descendants:!0}]}],_fileInput:[{type:o.ViewChild,args:["fileInput"]}],change:[{type:o.Output}],accept:[{type:o.Input}],disabled:[{type:o.Input},{type:o.HostBinding,args:["class.ngx-dz-disabled"]}],multiple:[{type:o.Input}],maxFileSize:[{type:o.Input}],expandable:[{type:o.Input},{type:o.HostBinding,args:["class.expandable"]}],disableClick:[{type:o.Input},{type:o.HostBinding,args:["class.unclickable"]}],id:[{type:o.Input}],ariaLabel:[{type:o.Input,args:["aria-label"]}],ariaLabelledby:[{type:o.Input,args:["aria-labelledby"]}],ariaDescribedBy:[{type:o.Input,args:["aria-describedby"]}],_isHovered:[{type:o.HostBinding,args:["class.ngx-dz-hovered"]}],_onClick:[{type:o.HostListener,args:["click"]}],_onDragOver:[{type:o.HostListener,args:["dragover",["$event"]]}],_onDragLeave:[{type:o.HostListener,args:["dragleave"]}],_onDrop:[{type:o.HostListener,args:["drop",["$event"]]}]},e}(),g=function(n){function e(e){var t=n.call(this,e)||this;return t.defualtImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",t.imageSrc=t.sanitizer.bypassSecurityTrustUrl(t.defualtImgLoading),t}return a(e,n),e.prototype.ngOnInit=function(){var t=this;this.readFile().then(function(e){return setTimeout(function(){return t.imageSrc=e})})["catch"](function(e){return console.error(e)})},e.decorators=[{type:o.Component,args:[{selector:"ngx-dropzone-image-preview",template:'\n    <img [src]="imageSrc" />\n\t\t<ng-content select="ngx-dropzone-label"></ng-content>\n    <ngx-dropzone-remove-badge *ngIf="removable" (click)="_remove($event)">\n    </ngx-dropzone-remove-badge>\n\t',styles:[":host(){min-width:unset!important;max-width:unset!important;padding:0!important}:host():focus img,:host():hover img{opacity:.7}:host():focus ngx-dropzone-remove-badge,:host():hover ngx-dropzone-remove-badge{opacity:1}:host() ngx-dropzone-remove-badge{opacity:0}:host() img{max-height:100%;border-radius:5px;opacity:.8}:host() ::ng-deep ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"],providers:[{provide:c,useExisting:e}]}]}],e.ctorParameters=function(){return[{type:r.DomSanitizer}]},e}(c),h=function(){function e(){}return e.decorators=[{type:o.Component,args:[{selector:"ngx-dropzone-remove-badge",template:'\n    <svg>\n      <line x1="0" y1="0" x2="10" y2="10" />\n      <line x1="0" y1="10" x2="10" y2="0" />\n    </svg>\n  ',styles:[":host(){display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}:host():hover{background:#aeaeae}:host()>svg{height:10px;width:10px}:host()>svg>line{stroke-width:2px;stroke:#fff}"]}]}],e}(),f=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.ngOnInit=function(){this.file?(this.videoSrc=URL.createObjectURL(this.file),this.sanitizedVideoSrc=this.sanitizer.bypassSecurityTrustUrl(this.videoSrc)):console.error("No file to read. Please provide a file using the [file] Input property.")},e.prototype.ngOnDestroy=function(){URL.revokeObjectURL(this.videoSrc)},e.decorators=[{type:o.Component,args:[{selector:"ngx-dropzone-video-preview",template:'\n    <video *ngIf="sanitizedVideoSrc" controls (click)="$event.stopPropagation()">\n      <source [src]="sanitizedVideoSrc" />\n    </video>\n    <ng-content select="ngx-dropzone-label"></ng-content>\n    <ngx-dropzone-remove-badge *ngIf="removable" (click)="_remove($event)">\n    </ngx-dropzone-remove-badge>\n\t',styles:[":host(){min-width:unset!important;max-width:unset!important;padding:0!important}:host():focus video,:host():hover video{opacity:.7}:host():focus ngx-dropzone-remove-badge,:host():hover ngx-dropzone-remove-badge{opacity:1}:host() ngx-dropzone-remove-badge{opacity:0}:host() video{max-height:100%;border-radius:5px}:host() ::ng-deep ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"],providers:[{provide:c,useExisting:e}]}]}],e.ctorParameters=function(){return[{type:r.DomSanitizer}]},e}(c),b=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{imports:[t.CommonModule],declarations:[u,n,c,g,h,f],exports:[u,n,c,g,h,f]}]}],e}();e.NgxDropzoneModule=b,e.NgxDropzoneComponent=u,e.NgxDropzonePreviewComponent=c,e.NgxDropzoneImagePreviewComponent=g,e.NgxDropzoneVideoPreviewComponent=f,e.NgxDropzoneRemoveBadgeComponent=h,e.ɵb=n,e.ɵa=d,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-dropzone.umd.min.js.map