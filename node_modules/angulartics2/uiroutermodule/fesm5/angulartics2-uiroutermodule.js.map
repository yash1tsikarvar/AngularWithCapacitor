{
  "version": 3,
  "file": "angulartics2-uiroutermodule.js",
  "sources": [
    "ng://angulartics2/uiroutermodule/src/lib/uiroutermodule/uirouter.module.ts",
    "ng://angulartics2/uiroutermodule/src/lib/uiroutermodule/uirouter.ts"
  ],
  "sourcesContent": [
    "import { ModuleWithProviders, NgModule, Provider } from '@angular/core';\n\nimport {\n  Angulartics2,\n  Angulartics2OnModule,\n  Angulartics2Settings,\n  ANGULARTICS2_TOKEN,\n  RouterlessTracking,\n} from 'angulartics2';\nimport { UIRouterTracking } from './uirouter';\n\n@NgModule({\n  imports: [Angulartics2OnModule],\n})\nexport class Angulartics2UirouterModule {\n  static forRoot(\n    providers: Provider[],\n    settings: Partial<Angulartics2Settings> = {},\n  ): ModuleWithProviders {\n    return {\n      ngModule: Angulartics2UirouterModule,\n      providers: [\n        { provide: ANGULARTICS2_TOKEN, useValue: { providers, settings } },\n        Angulartics2,\n        { provide: RouterlessTracking, useClass: UIRouterTracking },\n        ...providers,\n      ],\n    };\n  }\n}\n",
    "import { Injectable } from '@angular/core';\nimport { Transition, TransitionService } from '@uirouter/core';\n\nimport { Subject } from 'rxjs/Subject';\n\nimport { RouterlessTracking, TrackNavigationEnd } from 'angulartics2';\nimport { Observable } from 'rxjs/Observable';\n\n/**\n * Track Route changes for applications using UI-Router\n *\n * @link https://ui-router.github.io/ng2/docs/latest/\n *\n * referenced: https://github.com/ui-router/sample-app-angular/blob/9adb533b85c0f0fccef23968489cca0a5ec84654/src/app/util/ga.ts\n */\n@Injectable()\nexport class UIRouterTracking implements RouterlessTracking {\n  constructor(private transitionService: TransitionService) {}\n\n  path(trans: Transition) {\n    return trans.$to().url.format(trans.params());\n  }\n\n  trackLocation(settings): Observable<TrackNavigationEnd> {\n    const subject = new Subject<TrackNavigationEnd>();\n    this.transitionService.onSuccess(\n      {},\n      trans => {\n        return subject.next({ url: this.path(trans) });\n      },\n      {\n        priority: -10000,\n      },\n    );\n    return subject;\n  }\n\n  prepareExternalUrl(url: string): string {\n    return url;\n  }\n}\n"
  ],
  "names": [
    "tslib_1.__spread"
  ],
  "mappings": ";;;;;;;;;;ACAA;;;;;;;AAgBA,AAAA,IAAA,gBAAA,kBAAA,YAAA;;;;IACE,SAAF,gBAAA,CAAA,iBAAA,EAAA;QAAsB,IAAtB,CAAA,iBAAuC,GAAjB,iBAAiB,CAAmB;KAAI;;;;;IAE5D,gBAAF,CAAA,SAAA,CAAA,IAAA,GAAA,UAAA,KAAA,EAAA;QACI,OAAO,KAAK,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;KAC/C,CAAH;;;;;IAEE,gBAAF,CAAA,SAAA,CAAA,aAAA,GAAA,UAAA,QAAA,EAAA;QACI,IAAJ,KAAA,GAAA,IAAA,CAAA;QACI,qBAAJ,OAAA,GAAA,IACQ,OACG,EAFX,CAEc;QACd,IAAQ,CAAR,iBAAA,CAA2B,SAA3B,CAAA,EAAuC,EAAvC,UAAmD,KAAnD,EAAA;YACA,OAAA,OAAA,CAAA,IAAA,CAAA,EAAA,GAAA,EAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA,CAAA,CAAA;SAEA,EAAA;YACA,QAAA,EAAA,CAAA,KAAA;SAEA,CAAA,CAAA;QACA,OAAA,OAAA,CAAA;;;;;;IAGA,gBAAA,CAAA,SAAA,CAAA,kBAAA,GAAA,UAAA,GAAA,EAAA;QACA,OAAA,GAAA,CAAA;;;CAxBA,EAAA,CAAA,CAAA;;;CAdA,CAAA;;;;;;;;;;;;;;IDoBA,0BAAA,CAAA,OAAA,GAAA,UAAA,SAAA,EAAA,QAAA,EAAA;QACA,IAAA,QAAA,KAAiB,KAAjB,CAAA,EAAA,EAAA,QAAA,GAAA,EAAA,CAAA,EAAA;QACA,OAAA;YACA,QAAA,EAAA,0BAAA;YACA,SAAA,EAAAA,QAAA,CAAA;gBACA,EAAA,OAAA,EAAA,kBAAA,EAAA,QAAA,EAAA,EAAA,SAAA,EAAA,SAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA;gBACA,YAAA;gBACA,EAAA,OAAA,EAAA,kBAAA,EAAA,QAAA,EAAA,gBAAA,EAAA;;;KAjBA,CAAA;IACA,OAAA,0BAAA,CAAA;CACA,EAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;"
}
