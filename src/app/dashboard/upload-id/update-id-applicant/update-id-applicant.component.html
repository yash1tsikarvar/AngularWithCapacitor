<div class="form-update-applicant">
  <div class="box-group">
    <div *ngIf='!retry; else retryErrorBlock'>
      <h5 class="form-title">
        Please complete your information
      </h5>
    </div>

    <ng-template #retryErrorBlock>
      <h5 class="form-retry">The Name, Last Name and/or Date of Birth do not match with the original information
        provided.
        please try again.</h5>
    </ng-template>

    <div [formGroup]="childForm" (submit)="submit()">
      <div class="form-label-group">
        <mat-form-field>
          <div class="input-update-id" [class.with-error]="iconFirstNameDisabled && !firstNameDisabled">
            <input matInput
                   id="firstName"
                   class="form-control"
                   placeholder="First name"
                   formControlName="firstName"
                   (input)="onChange($event,'firstName')"
                   maxlength="30"
            >
            <mat-icon class="green-icon" *ngIf="firstNameDisabled">check</mat-icon>
            <mat-icon color="warn" *ngIf="iconFirstNameDisabled && !firstNameDisabled">error</mat-icon>
          </div>
          <mat-error>{{getError('firstName')}}</mat-error>
        </mat-form-field>
      </div>

      <div class="form-label-group">
        <mat-form-field>
          <div class="input-update-id" [class.with-error]="iconLastNameDisabled && !lastNameDisabled">
            <input matInput
                   id="lastName"
                   class="form-control"
                   placeholder="Last name"
                   (input)="onChange($event,'lastName')"
                   formControlName="lastName"
            >
            <mat-icon class="green-icon" *ngIf="lastNameDisabled">check</mat-icon>
            <mat-icon color="warn" *ngIf="iconLastNameDisabled && !lastNameDisabled">error</mat-icon>

          </div>
          <mat-error>{{getError('lastName')}}</mat-error>
        </mat-form-field>
      </div>

      <div class="form-label-group">
        <mat-form-field>
          <div class="input-update-id" [class.with-error]="iconDobDisabled && !dobDisabled">
            <input matInput
                   formControlName="dob"
                   id="dob"
                   (dateInput)="onChangeDate('dob')"
                   (focus)="picker.open()"
                   [matDatepicker]="picker"
                   placeholder="Date of Birth"
                   [max]="maxDate"
                   [min]="minDate"
                   maxlength="10"
            >

            <mat-datepicker #picker startView="multi-year"></mat-datepicker>

            <mat-icon class="green-icon" *ngIf="dobDisabled">check</mat-icon>
            <mat-icon color="warn" *ngIf="iconDobDisabled && !dobDisabled">error</mat-icon>
          </div>
          <mat-error>{{getError('dob')}}</mat-error>
        </mat-form-field>
      </div>

      <div class="form-double-button">
        <button type="submit" class="btn btn-blue" (click)="submit()" [disabled]="!enableSend">Submit</button>
        <br/>or<br/>
        <button class="btn btn-blue" (click)="retryUpload()">Upload new file</button>
      </div>

    </div>
    <p class="small-text text-center">Make sure all the information is completed before continuing.</p>
  </div>
</div>
